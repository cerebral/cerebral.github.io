<!DOCTYPE html>
<html>
  <head>
    <title>Cerebral Docs</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/images/favicons/manifest.json">
    <link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<link rel="stylesheet" href="/main.css" />
<link rel="stylesheet" href="/prism.css" />
<link rel="stylesheet" href="/docs.css" />
  </head>
  <body>
    <div id="app"><div class="docs-container"><div class="beta">beta</div><div id="navigation" class="docs-navigation"><ul class="docs-navigation-menu"><li class="docs-navigation-item active"><a href="/docs/introduction">introduction</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/api">api</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/addons">addons</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/resources">resources</a><div class="underline"></div></li></ul><div class="docs-search"><input type="text" id="search-docs" placeholder="search..."/><div id="search-result" class="docs-search-result"></div></div><div class="docs-icons"><a href="https://github.com/cerebral/cerebral" class="docs-icon" target="_new"><div class="docs-icon-github"></div>github repo</a><a href="https://discord.gg/0kIweV4bd2bwwsvH" class="docs-icon" target="_new"><div class="docs-icon-discord"></div>chat</a><a href="http://cerebral-website.herokuapp.com/" class="docs-icon" target="_new" style="color:#DD4A68;">old website</a></div></div><div id="navigation-mobile" class="docs-navigation mobile"><div id="hamburger" class="docs-navigation-hamburger"></div><div class="docs-navigation-title mobile">introduction</div><div class="docs-navigation-float mobile"><ul class="docs-navigation-menu mobile"><li class="docs-navigation-item active mobile"><a href="/docs/introduction">introduction</a><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/introduction/index.html">What is Cerebral?</a></li><li><a href="/docs/introduction/the_architecture.html">The architecture</a></li><li><a href="/docs/introduction/install.html">Install</a></li><li><a href="/docs/introduction/debugger.html">Debugger</a></li><li><a href="/docs/introduction/view_type.html">Views</a></li><li><a href="/docs/introduction/state.html">State</a></li><li><a href="/docs/introduction/connect.html">Components</a></li><li><a href="/docs/introduction/signals.html">Signals</a></li><li><a href="/docs/introduction/actions.html">Actions</a></li><li class="active"><a href="/docs/introduction/operators.html">Operators</a><ul><li><a href="#state-changes">State changes</a></li><li><a href="#time">Time</a></li><li><a href="#paths">Paths</a></li><li><a href="#tutorial">Tutorial</a></li></ul></li><li><a href="/docs/introduction/factories.html">Factories</a></li><li><a href="/docs/introduction/paths.html">Paths</a></li><li><a href="/docs/introduction/compute.html">Compute</a></li><li><a href="/docs/introduction/routing.html">Routing</a></li><li><a href="/docs/introduction/organize.html">Organize</a></li><li><a href="/docs/introduction/providers.html">Providers</a></li><li><a href="/docs/introduction/errors.html">Errors</a></li><li><a href="/docs/introduction/test.html">Test</a></li><li><a href="/docs/introduction/production.html">Production</a></li><li><a href="/docs/introduction/collaborate.html">Collaborate</a></li></ul></div></div></li><li class="docs-navigation-item mobile"><a href="/docs/api">api</a></li><li class="docs-navigation-item mobile"><a href="/docs/addons">addons</a></li><li class="docs-navigation-item mobile"><a href="/docs/resources">resources</a></li></ul></div></div><div class="docs-content"><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/introduction/index.html">What is Cerebral?</a></li><li><a href="/docs/introduction/the_architecture.html">The architecture</a></li><li><a href="/docs/introduction/install.html">Install</a></li><li><a href="/docs/introduction/debugger.html">Debugger</a></li><li><a href="/docs/introduction/view_type.html">Views</a></li><li><a href="/docs/introduction/state.html">State</a></li><li><a href="/docs/introduction/connect.html">Components</a></li><li><a href="/docs/introduction/signals.html">Signals</a></li><li><a href="/docs/introduction/actions.html">Actions</a></li><li class="active"><a href="/docs/introduction/operators.html">Operators</a><ul><li><a href="#state-changes">State changes</a></li><li><a href="#time">Time</a></li><li><a href="#paths">Paths</a></li><li><a href="#tutorial">Tutorial</a></li></ul></li><li><a href="/docs/introduction/factories.html">Factories</a></li><li><a href="/docs/introduction/paths.html">Paths</a></li><li><a href="/docs/introduction/compute.html">Compute</a></li><li><a href="/docs/introduction/routing.html">Routing</a></li><li><a href="/docs/introduction/organize.html">Organize</a></li><li><a href="/docs/introduction/providers.html">Providers</a></li><li><a href="/docs/introduction/errors.html">Errors</a></li><li><a href="/docs/introduction/test.html">Test</a></li><li><a href="/docs/introduction/production.html">Production</a></li><li><a href="/docs/introduction/collaborate.html">Collaborate</a></li></ul></div></div><div class="docs-doc"><div class="docs-doc-content"><div class="docs-doc-edit"><a href="https://github.com/cerebral/cerebral/tree/master/docs/introduction/operators.md" target="_new">Edit on Github</a></div><h1>Operators</h1><p>Creating an action for any kind of state change will be tedious. That is why Cerebral has <strong>operators</strong>. These operators are just functions that return an action for you. There is an operator for every kind of state change, but also other operators controlling time and execution paths. Also other packages in the Cerebral ecosystem has their own operators.</p><h2>State changes</h2><p>The most common operators you will use changes the state of your application.</p><pre class="language-js"><code class="language-js">import {set} from &#x27;cerebral/operators&#x27;
import {state} from &#x27;cerebral/tags&#x27;

export default [
  set(state`foo`, &#x27;bar&#x27;)
]</code></pre><p>With the help of <strong>tags</strong> we are able to express that we want to set the state path <strong>foo</strong> to have the value <strong>“bar”</strong>. We can also use the <strong>props</strong> tag to express that we want to grab the value from the current payload of the signal instead:</p><pre class="language-js"><code class="language-js">import {set} from &#x27;cerebral/operators&#x27;
import {state, props} from &#x27;cerebral/tags&#x27;

export default [
  set(state`foo`, props`foo`)
]</code></pre><p>And this is how you go about using operators:</p><pre class="language-js"><code class="language-js">import {merge, push, pop} from &#x27;cerebral/operators&#x27;
import {state, props} from &#x27;cerebral/tags&#x27;

export default [
  merge(state`some.object`, props`newObj`),
  push(state`some.list`, props`newItem`),
  pop(state`some.otherList`)
]</code></pre><h2>Time</h2><p>You can control time using operators. For example to hold a signals execution, you can:</p><pre class="language-js"><code class="language-js">import {wait} from &#x27;cerebral/operators&#x27;
import doThis from &#x27;../actions/doThis&#x27;
import doThat from &#x27;../actions/doThat&#x27;

export default [
  doThis,
  wait(2000),
  doThat
]</code></pre><p>You can also do more complex time control using <strong>debounce</strong>.</p><pre class="language-js"><code class="language-js">import {set, debounce} from &#x27;cerebral/operators&#x27;
import {state, props} from &#x27;cerebral/tags&#x27;
import makeQueryRequest from &#x27;../chains/makeQueryRequest&#x27;

export default [
  set(state`query`, props`query`),
  debounce(500), {
    continue: makeQueryRequest,
    discard: []
  }
]</code></pre><h2>Paths</h2><p>Some operators helps you go down specific paths of execution.</p><pre class="language-js"><code class="language-js">import {when, equals} from &#x27;cerebral/operators&#x27;
import {state, props} from &#x27;cerebral/tags&#x27;

export default [
  when(state`app.isAwesome`), {
    true: [],
    false: []
  },
  equals(state`user.role`), {
    admin: [],
    user: [],
    otherwise: []
  }
]</code></pre><p>As you can see <strong>operators</strong> are a powerful concept that allows you to describe how your application executes and changes its state. Other tools in the Cerebral ecosystem also has its own operators for running side effects like HTTP requests, Firebase requests etc. Most of your application can actually be described with operators.</p><h2>Tutorial</h2><p><strong>Before you start,</strong> <a href="https://www.webpackbin.com/bins/-KdBHyLJDefteJy0s821" target="new">load this BIN on Webpackbin</a></p><p>Let us first change out our actions with an operators instead. Since we did a <em>set</em>, we change it out with the <strong>set</strong> operator. Operators also take advantage of the tags. In this case, the first argument uses a tag to target our state. The second argument uses a tag to grab the message from the props passed into the signal.</p><p>Now lets add a <strong>wait</strong> operator and another <strong>set</strong> to close our toast message after a few seconds. So go ahead and change our <strong>buttonClicked</strong> signal in <em>controller.js</em> to:</p><pre class="language-js"><code class="language-js">...
import {set, wait} from &#x27;cerebral/operators&#x27;
import {state, props} from &#x27;cerebral/tags&#x27;
...
{
  buttonClicked: [
    set(state`toast`, props`message`),
    wait(4000),
    set(state`toast`, null)
  ]
}</code></pre><p>Now when we check again in the debugger you will see all the 3 actions executed when signal <em>buttonClicked</em> got triggered.</p><p>If it did not work try jumping to the next chapter or <a href="https://discord.gg/0kIweV4bd2bwwsvH" target="new">shout at us on Discord</a>.</p></div></div></div></div></div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
<script src="/search.js"></script>
<script src="/mobile.js"></script>
  </body>
</html>
