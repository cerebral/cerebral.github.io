<!DOCTYPE html>
<html>
  <head>
    <title>Cerebral Docs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<link rel="stylesheet" href="/main.css" />
<link rel="stylesheet" href="/prism.css" />
<link rel="stylesheet" href="/docs.css" />
  </head>
  <body>
    <div id="app"><div class="docs-container"><div id="navigation" class="docs-navigation"><ul class="docs-navigation-menu"><li class="docs-navigation-item"><a href="/docs/get_started">get started</a><div class="underline"></div></li><li class="docs-navigation-item active"><a href="/docs/developer_guide">developer guide</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/packages">packages</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/migration">migration</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/api">api</a><div class="underline"></div></li></ul><div class="docs-search"><input type="text" id="search-docs" placeholder="search..."/><div id="search-result" class="docs-search-result"></div></div><div class="docs-icons"><a href="https://github.com/cerebral/cerebral" class="docs-icon" target="_new"><div class="docs-icon-github"></div>github repo</a><a href="https://discord.gg/0kIweV4bd2bwwsvH" class="docs-icon" target="_new"><div class="docs-icon-discord"></div>chat</a></div></div><div id="navigation-mobile" class="docs-navigation mobile"><div id="hamburger" class="docs-navigation-hamburger">☰</div><div class="docs-navigation-title mobile">developer guide</div><div class="docs-navigation-float mobile"><ul class="docs-navigation-menu mobile"><li class="docs-navigation-item mobile"><a href="/docs/get_started">get started</a></li><li class="docs-navigation-item active mobile"><a href="/docs/developer_guide">developer guide</a><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/developer_guide/index.html">Introduction</a></li><li><a href="/docs/developer_guide/state.html">State</a></li><li class="active"><a href="/docs/developer_guide/connect.html">Components</a><ul><li><a href="#tutorial">Tutorial</a><ul><li><a href="#the-component-signature">The component signature</a></li><li><a href="#challenge">Challenge</a></li></ul></li></ul></li><li><a href="/docs/developer_guide/signals.html">Signals</a></li><li><a href="/docs/developer_guide/actions.html">Actions</a></li><li><a href="/docs/developer_guide/operators.html">Operators</a></li><li><a href="/docs/developer_guide/factories.html">Factories</a></li><li><a href="/docs/developer_guide/paths.html">Paths</a></li><li><a href="/docs/developer_guide/compute.html">Compute</a></li><li><a href="/docs/developer_guide/routing.html">Routing</a></li><li><a href="/docs/developer_guide/organize.html">Organize</a></li><li><a href="/docs/developer_guide/providers.html">Providers</a></li><li><a href="/docs/developer_guide/test.html">Test</a></li></ul></div></div></li><li class="docs-navigation-item mobile"><a href="/docs/packages">packages</a></li><li class="docs-navigation-item mobile"><a href="/docs/migration">migration</a></li><li class="docs-navigation-item mobile"><a href="/docs/api">api</a></li></ul></div></div><div class="docs-content"><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/developer_guide/index.html">Introduction</a></li><li><a href="/docs/developer_guide/state.html">State</a></li><li class="active"><a href="/docs/developer_guide/connect.html">Components</a><ul><li><a href="#tutorial">Tutorial</a><ul><li><a href="#the-component-signature">The component signature</a></li><li><a href="#challenge">Challenge</a></li></ul></li></ul></li><li><a href="/docs/developer_guide/signals.html">Signals</a></li><li><a href="/docs/developer_guide/actions.html">Actions</a></li><li><a href="/docs/developer_guide/operators.html">Operators</a></li><li><a href="/docs/developer_guide/factories.html">Factories</a></li><li><a href="/docs/developer_guide/paths.html">Paths</a></li><li><a href="/docs/developer_guide/compute.html">Compute</a></li><li><a href="/docs/developer_guide/routing.html">Routing</a></li><li><a href="/docs/developer_guide/organize.html">Organize</a></li><li><a href="/docs/developer_guide/providers.html">Providers</a></li><li><a href="/docs/developer_guide/test.html">Test</a></li></ul></div></div><div class="docs-doc"><div class="docs-doc-content"><div class="docs-doc-edit"><a href="https://github.com/cerebral/cerebral/tree/master/docs/developer_guide/connect.md" target="_new">Edit on Github</a></div><h1 id="components">Components</h1><p>In Cerebral you connect state to components where you need it. This give some benefits:</p><ol><li>Cerebral will optimize the component</li><li>The debugger will know about this component and visualize its state dependencies and when it renders</li><li>Increased readability as every component explicitly tells you what state and signals it needs and where it gets it from</li><li>You can safely move the component wherever you want without breaking chain of props passing</li></ol><p>When you connect a component like this…</p><pre><code class="language-js">import React from &#x27;react&#x27;
import {connect} from &#x27;cerebral/react&#x27;
import {state} from &#x27;cerebral/tags&#x27;

export default connect({
  foo: state`app.title`
},
  function MyComponent ({title}) {
    return (
      &lt;div&gt;
        &lt;h1&gt;{title}&lt;/h1&gt;
      &lt;/div&gt;
    )
  }
)</code></pre><p>…the component will be registered to the root <strong>Container</strong> component which is used to expose the controller. The <em>Container</em> actually has a register of all connected components in your application. This information is passed to the debugger and whenever Cerebral flushes out changes made to different state paths, the <em>Container</em> will figure out what components should render.</p><p>All connected components are automatically optimized, meaning that they will only render if a parent component passes a changed prop or the <em>Container</em> tells it to render.</p><p>You can also use classes where needed:</p><pre><code class="language-js">import React from &#x27;react&#x27;
import {connect} from &#x27;cerebral/react&#x27;
import {state} from &#x27;cerebral/tags&#x27;

export default connect({
  foo: state`app.foo`
},
  class MyComponent extends React.Component {
    render () {
      return (
        &lt;div&gt;
          &lt;h1&gt;{this.props.title}&lt;/h1&gt;
        &lt;/div&gt;
      )
    }
  }
)</code></pre><h2 id="tutorial">Tutorial</h2><p><strong>Before you start,</strong> <a href="https://www.webpackbin.com/bins/-KdBDYEXCVwtPoaMAXgJ" target="new">load this BIN on Webpackbin</a></p><p>Now let’s get that state displayed in our application.
First of all, we need to tell our component (App) to <strong>connect</strong> to the state.</p><p>So please change <em>App.js</em> to:</p><pre><code class="language-js">import React from &#x27;react&#x27;
import {connect} from &#x27;cerebral/react&#x27;
import {state} from &#x27;cerebral/tags&#x27;

export default connect({
  title: state`title`
},
  function App ({title}) {
    return (
      &lt;div&gt;
        &lt;h1&gt;{title}&lt;/h1&gt;
        &lt;h2&gt;Render state&lt;/h2&gt;
      &lt;/div&gt;
    )
  }
)</code></pre><p>And voilà, your application should now look exactly the same, only getting the title from the state tree. And this is the essence of creating web applications. We define state and how that state should be displayed in the user interface.</p><p>We used something called a <strong>tag</strong> to define our state dependency. If you are unfamiliar with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="new">template literals and template literal tags</a> in JavaScript, you can read about them or just accept their awesome power :)</p><p>But our application does not do much. We have to introduce the concept of change. With the debugger, we can actually force a change to our state and make the UI update. Click the title state in the debugger, change it and hit enter. You will see the application display your changed state.</p><p>Thanks to…</p><pre><code class="language-js">connect({
  title: state`title`
}, ...)</code></pre><p>…we told Cerebral that this component is interested in the value on the path <strong>title</strong>, and we wanted it exposed as <strong>title</strong> to our component as well. Because this component now depends on the <strong>title</strong> state it gets rendered whenever the path has a change.</p><p>Congratulations, you have now created application state and exposed it to a component. You have now gained the power of translating the state of the application into something a user can understand. You will notice with Cerebral that this is a very clear separation. You define your application state in Cerebral and you use components to translate this state into a user interface.</p><h3 id="the-component-signature">The component signature</h3><p>Let us quickly talk about the syntax before moving on. The signature of connect most commonly uses two arguments:</p><p><strong>connect(dependencies, Component)</strong></p><p>We usually write this out as:</p><pre><code class="language-js">connect({
  title: state`title`
},
  function App ({title}) {
    return (
      &lt;div&gt;
        &lt;h1&gt;{title}&lt;/h1&gt;
        &lt;h2&gt;Render state&lt;/h2&gt;
      &lt;/div&gt;
    )
  }
)</code></pre><p>Writing out the arguments on multiple lines and with indentation just makes it read better. It is also very nice to read the dependencies of your component first and then what the component does with those dependencies.</p><h3 id="challenge">Challenge</h3><p>It’s time for your first challenge!</p><ul><li>Add another state to the store called <em>subTitle</em></li><li>Connect <em>subTitle</em> to the App component and replace the content of the H2 with that state</li></ul><p>If it did not work try jumping to the next chapter or <a href="https://discord.gg/0kIweV4bd2bwwsvH" target="new">shout at us on Discord</a>.</p></div></div></div><div style="z-index:99;background-color:#DD4A68;color:#fff;padding:5px 10px;position:fixed;width:100%;bottom:0;left:0;">Docs are still being written and might not be up to date with API</div></div></div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
<script src="/search.js"></script>
<script src="/mobile.js"></script>
  </body>
</html>
