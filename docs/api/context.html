<!DOCTYPE html>
<html>
  <head>
    <title>Cerebral Docs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<link rel="stylesheet" href="/main.css" />
<link rel="stylesheet" href="/prism.css" />
<link rel="stylesheet" href="/docs.css" />
  </head>
  <body>
    <div id="app"><div class="docs-container"><div id="navigation" class="docs-navigation"><ul class="docs-navigation-menu"><li class="docs-navigation-item"><a href="/docs/get_going">get going</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/tutorial">tutorial</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/how_to">how to</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/migration">migration</a><div class="underline"></div></li><li class="docs-navigation-item active"><a href="/docs/api">api</a><div class="underline"></div></li></ul><div class="docs-search"><input type="text" id="search-docs" placeholder="search..."/><div id="search-result" class="docs-search-result"></div></div></div><div id="navigation-mobile" class="docs-navigation mobile"><div id="hamburger" class="docs-navigation-hamburger">â˜°</div><div class="docs-navigation-title mobile">api</div><div class="docs-navigation-float mobile"><ul class="docs-navigation-menu mobile"><li class="docs-navigation-item mobile"><a href="/docs/get_going">get going</a></li><li class="docs-navigation-item mobile"><a href="/docs/tutorial">tutorial</a></li><li class="docs-navigation-item mobile"><a href="/docs/how_to">how to</a></li><li class="docs-navigation-item mobile"><a href="/docs/migration">migration</a></li><li class="docs-navigation-item active mobile"><a href="/docs/api">api</a><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/api/index.html">Controller</a></li><li><a href="/docs/api/devtools.html">Devtools</a></li><li class="active"><a href="/docs/api/context.html">Context</a><ul><li><a href="#props">Props</a></li><li><a href="#state">State</a></li><li><a href="#path">Path</a></li><li><a href="#resolve">Resolve</a></li><li><a href="#controller">Controller</a></li><li><a href="#execution">Execution</a></li></ul></li><li><a href="/docs/api/state.html">State</a></li><li><a href="/docs/api/tags.html">Tags</a></li><li><a href="/docs/api/container.html">Container</a></li><li><a href="/docs/api/connect.html">Connect</a></li><li><a href="/docs/api/modules.html">Modules</a></li><li><a href="/docs/api/operators.html">Operators</a></li><li><a href="/docs/api/providers.html">Providers</a></li><li><a href="/docs/api/compute.html">Compute</a></li><li><a href="/docs/api/statecontainer.html">StateContainer</a></li></ul></div></div></li></ul></div></div><div class="docs-content"><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/api/index.html">Controller</a></li><li><a href="/docs/api/devtools.html">Devtools</a></li><li class="active"><a href="/docs/api/context.html">Context</a><ul><li><a href="#props">Props</a></li><li><a href="#state">State</a></li><li><a href="#path">Path</a></li><li><a href="#resolve">Resolve</a></li><li><a href="#controller">Controller</a></li><li><a href="#execution">Execution</a></li></ul></li><li><a href="/docs/api/state.html">State</a></li><li><a href="/docs/api/tags.html">Tags</a></li><li><a href="/docs/api/container.html">Container</a></li><li><a href="/docs/api/connect.html">Connect</a></li><li><a href="/docs/api/modules.html">Modules</a></li><li><a href="/docs/api/operators.html">Operators</a></li><li><a href="/docs/api/providers.html">Providers</a></li><li><a href="/docs/api/compute.html">Compute</a></li><li><a href="/docs/api/statecontainer.html">StateContainer</a></li></ul></div></div><div class="docs-doc"><div class="docs-doc-content"><div class="docs-doc-edit"><a href="https://github.com/cerebral/cerebral/tree/master/docs/docs/docs/api/context.md" target="_new">Edit on Github</a></div><h1 id="context">Context</h1><p>When actions run they are passed a context. This context is created by Cerebral for every action run.</p><pre><code class="language-js">function iAmAnAction (context) {}</code></pre><p>The context is populated by Cerebral and you can configure this by creating <strong>providers</strong>. By default Cerebral adds the following providers on the context.</p><h2 id="props">Props</h2><p>When you trigger a signal you can pass it a payload. This payload is the starting point of the props to the signal. Given the signal:</p><pre><code class="language-js">[
  actionA,
  actionB
]</code></pre><pre><code class="language-js">someSignal({
  foo: &#x27;bar&#x27;
})</code></pre><p>The first action will receive the payload passed into the signal.</p><pre><code class="language-js">function actionA ({input}) {
  input // {foo: &quot;bar&quot;}

  return {
    bar: &#x27;baz&#x27;
  }
}</code></pre><p>By returning a new object the next action will see an extended input:</p><pre><code class="language-js">function actionB ({input}) {
  input // {foo: &quot;bar&quot;, bar: &quot;baz&quot;}
}</code></pre><p>So returning an object from actions, either directly or from a promise, extends the input for later actions to handle.</p><h2 id="state">State</h2><p>To change the state of your application you use the state API. It is available to every action.</p><pre><code class="language-js">function setSomething ({state}) {
  state.set(&#x27;some.path.foo&#x27;, &#x27;bar&#x27;)
}</code></pre><p>All common state operations are available as a method. Instead of first pointing to a value and then operate, you operate first and give the path to the value.</p><pre><code class="language-js">// Traditional approach
someArray.push(&#x27;newItem&#x27;)
// With Cerebral
state.push(&#x27;path.to.array&#x27;, &#x27;newItem&#x27;)</code></pre><p>This is the one core concept of Cerebral that gives all its power. This simple approach allows for a few important things:</p><ol><li>Track mutations in the application so that it can be passed to the debugger</li><li>Track mutations so that it can inform components depending on the changes</li><li>Only allow mutations through the API, and nowhere else in the application (using freezing during development)</li></ol><h2 id="path">Path</h2><p>The path on the context is only available if there is actually expressed a path after the action in question:</p><pre><code class="language-js">import actionA from &#x27;../actions/actionA&#x27;
import actionB from &#x27;../actions/actionB&#x27;
import actionC from &#x27;../actions/actionC&#x27;

export default [
  actionA,
  actionB, {
    foo: [actionC]
  }
]</code></pre><p>In this scenario only <em>actionB</em> has the path on its context. As explained in <strong>Chains and paths</strong>, the path allows you to diverge execution of the signal.</p><h2 id="resolve">Resolve</h2><p>When you ramp up your game with Cerebral you will most certainly take more advantage of <strong>tags</strong> and <strong>computed</strong> in your actions, typically related to action factories. To resolve an argument passed to a factory you can use resolve:</p><pre><code class="language-js">function someActionFactory(someArgument) {
  function someAction ({resolve}) {
    // The argument can be anything, even plain values
    const value = resolve.value(someArgument)
  }

  return someAction
}</code></pre><p>You can also use resolve to check the value type and extract for example the path of tags:</p><pre><code class="language-js">function someActionFactory(someArgument) {
  function someAction ({resolve}) {
    if (resolve.isTag(someArgument)) {
      const path = resolve.path(someArgument)
    }
  }

  return someAction
}</code></pre><h2 id="controller">Controller</h2><p>You have access to the controller instance on the context:</p><pre><code class="language-js">function someAction ({controller}) {}</code></pre><h2 id="execution">Execution</h2><p>You have access to function tree execution as well. This holds information about the current execution, mostly used by the devtools to inform the debugger.</p><pre><code class="language-js">function someAction ({execution}) {}</code></pre></div></div></div><div class="docs-footer"><div class="docs-footer-column"><div class="docs-footer-header">ORGANIZATION</div><a class="docs-footer-link" href="https://github.com/cerebral/cerebral/graphs/contributors" target="_new">Contributors</a><a class="docs-footer-link" href="http://www.webpackbin.com" target="_new">www.webpackbin.com</a><a class="docs-footer-link" href="http://www.christianalfoni.com" target="_new">www.christianalfoni.com</a></div><div class="docs-footer-column"><div class="docs-footer-header">ARTICLES AND USEFUL LINKS</div><a class="docs-footer-link" href="http://medium.com/p/5793c08db2cc" target="_new">The story of Cerebral</a><a class="docs-footer-link" href="https://gist.github.com/christianalfoni/b08a99faa09df054afe87528a2134730" target="_new">An unlikely success story</a></div><div class="docs-footer-column"><div class="docs-footer-header">HELP</div><a class="docs-footer-link" href="https://github.com/cerebral/cerebral" target="_new">Cerebral github repo</a><a class="docs-footer-link" href="https://discord.gg/0kIweV4bd2bwwsvH" target="_new">Discoard chat</a></div></div><div style="z-index:99;background-color:#DD4A68;color:#fff;padding:5px 10px;position:fixed;width:100%;bottom:0;left:0;">Docs are still being written and might not be up to date with API</div></div></div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
<script src="/search.js"></script>
<script src="/scroll-detect.js"></script>
<script src="/mobile.js"></script>
  </body>
</html>
