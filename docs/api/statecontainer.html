<!DOCTYPE html>
<html>
  <head>
    <title>Cerebral Docs</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/images/favicons/manifest.json">
    <link rel="mask-icon" href="/images/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
<link rel="stylesheet" href="/main.css" />
<link rel="stylesheet" href="/prism.css" />
<link rel="stylesheet" href="/docs.css" />
  </head>
  <body>
    <div id="app"><div class="docs-container"><div class="beta">beta</div><div id="navigation" class="docs-navigation"><ul class="docs-navigation-menu"><li class="docs-navigation-item"><a href="/docs/get_started">get started</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/developer_guide">developer guide</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/packages">packages</a><div class="underline"></div></li><li class="docs-navigation-item"><a href="/docs/migration">migration</a><div class="underline"></div></li><li class="docs-navigation-item active"><a href="/docs/api">api</a><div class="underline"></div></li></ul><div class="docs-search"><input type="text" id="search-docs" placeholder="search..."/><div id="search-result" class="docs-search-result"></div></div><div class="docs-icons"><a href="https://github.com/cerebral/cerebral" class="docs-icon" target="_new"><div class="docs-icon-github"></div>github repo</a><a href="https://discord.gg/0kIweV4bd2bwwsvH" class="docs-icon" target="_new"><div class="docs-icon-discord"></div>chat</a><a href="http://cerebral-website.herokuapp.com/" class="docs-icon" target="_new" style="color:#DD4A68;">old website</a></div></div><div id="navigation-mobile" class="docs-navigation mobile"><div id="hamburger" class="docs-navigation-hamburger">☰</div><div class="docs-navigation-title mobile">api</div><div class="docs-navigation-float mobile"><ul class="docs-navigation-menu mobile"><li class="docs-navigation-item mobile"><a href="/docs/get_started">get started</a></li><li class="docs-navigation-item mobile"><a href="/docs/developer_guide">developer guide</a></li><li class="docs-navigation-item mobile"><a href="/docs/packages">packages</a></li><li class="docs-navigation-item mobile"><a href="/docs/migration">migration</a></li><li class="docs-navigation-item active mobile"><a href="/docs/api">api</a><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/api/index.html">Controller</a></li><li><a href="/docs/api/sequence.html">Sequence</a></li><li><a href="/docs/api/parallel.html">Parallel</a></li><li><a href="/docs/api/devtools.html">Devtools</a></li><li><a href="/docs/api/context.html">Context</a></li><li><a href="/docs/api/state.html">State</a></li><li><a href="/docs/api/tags.html">Tags</a></li><li><a href="/docs/api/container.html">Container</a></li><li><a href="/docs/api/connect.html">Connect</a></li><li><a href="/docs/api/modules.html">Modules</a></li><li><a href="/docs/api/operators.html">Operators</a></li><li><a href="/docs/api/providers.html">Providers</a></li><li><a href="/docs/api/compute.html">Compute</a></li><li class="active"><a href="/docs/api/statecontainer.html">StateContainer</a><ul><li><a href="#pre-rendering">Pre-rendering</a></li><li><a href="#business-logic">Business logic</a></li></ul></li></ul></div></div></li></ul></div></div><div class="docs-content"><div class="docs-toc"><div class="docs-toc-content"><div><strong>Table of contents</strong></div><ul><li><a href="/docs/api/index.html">Controller</a></li><li><a href="/docs/api/sequence.html">Sequence</a></li><li><a href="/docs/api/parallel.html">Parallel</a></li><li><a href="/docs/api/devtools.html">Devtools</a></li><li><a href="/docs/api/context.html">Context</a></li><li><a href="/docs/api/state.html">State</a></li><li><a href="/docs/api/tags.html">Tags</a></li><li><a href="/docs/api/container.html">Container</a></li><li><a href="/docs/api/connect.html">Connect</a></li><li><a href="/docs/api/modules.html">Modules</a></li><li><a href="/docs/api/operators.html">Operators</a></li><li><a href="/docs/api/providers.html">Providers</a></li><li><a href="/docs/api/compute.html">Compute</a></li><li class="active"><a href="/docs/api/statecontainer.html">StateContainer</a><ul><li><a href="#pre-rendering">Pre-rendering</a></li><li><a href="#business-logic">Business logic</a></li></ul></li></ul></div></div><div class="docs-doc"><div class="docs-doc-content"><div class="docs-doc-edit"><a href="https://github.com/cerebral/cerebral/tree/master/docs/api/statecontainer.md" target="_new">Edit on Github</a></div><h1 id="statecontainer">StateContainer</h1><p>“Can I use Cerebral on the server?”. Yes, technically you can, but you actually should not. Cerebral is a framework for building applications with user interfaces. Running code related to talking to a server on the server does not really make sense. What does make sense though is pre-rendering and handle complex flows on server side logic.</p><h2 id="pre-rendering">Pre-rendering</h2><p>Both <a href="https://facebook.github.io/react/" target="new">react</a> and <a href="https://github.com/trueadm/inferno" target="new">inferno</a> supports rendering your application on the server. But that does not mean your application runs on the server. The only thing you need to pre-render your application is state. The <strong>StateContainer</strong> allows you to render your application by just passing an object as the state of your app:</p><pre><code class="language-js">import {StateContainer} from &#x27;cerebral/react&#x27;
import {renderToString} from &#x27;react-dom/server&#x27;

const html = renderToString(
  &lt;StateContainer state={someServerCreatedState}&gt;
    &lt;App /&gt;
  &lt;/StateContainer&gt;
)</code></pre><p>Instead of passing the Cerebral controller to the container, you just pass it the state of the application. This will render your application in the correct state. How you produce this state is up to you though. Applications are very different related to producing state on the server so there is not “one answer” here.</p><p>It might be a good idea to define the state of your application in one file, instead of using modules:</p><pre><code class="language-js">export default {
  app: {},
  posts: {}
}</code></pre><p>This way you can import the same state file on your client and on the server. On the server you just populate the missing state.</p><h2 id="business-logic">Business logic</h2><p>You might also be tempted to use Cerebral to handle server side business logic. But Cerebral is actually a small wrapper around <a href="https://github.com/cerebral/function-tree" target="new">function-tree</a>. Function-tree has its own debugger and gives you more flexibility in handling complexities on the server as well.</p></div></div></div></div></div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.6.0/prism.min.js"></script>
<script src="/search.js"></script>
<script src="/mobile.js"></script>
  </body>
</html>
