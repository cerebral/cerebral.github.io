<!DOCTYPE html><html class="ua_js_no" lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Cerebral</title><script>(function(e,c){e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");})(document.documentElement,"className");</script><link rel="stylesheet" href="../css/styles.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:700,500,400"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono"/><link rel="shortcut icon" href="../favicon.ico"/><meta name="viewport" content="width=device-width,maximum-scale=1,initial-scale=1,user-scalable=no"/><meta name="format-detection" content="telephone=no"/><link name="apple-mobile-web-app-capable" content="yes"/></head><body class="page page_layout_tutorial"><div class="page__header"><div class="head-nav"><a class="link link__control head-nav__home i-bem" data-bem='{"link":{}}' role="link" href="../"></a></div></div><div class="page__content"><div class="wip">This documentation is about upcoming cerebral v2 which is currently is work in progress.<br/>Documentation might not always describe actual state of API.<br/>API itself could have some notable changes, though it shouldn't be critical.<br/>Feel free to contribute to docs by clicking Edit on Github link.</div><div class="row"><div class="row__col row__col_sw_24 row__col_lw_5 row__col_sol row__col_mol"><div class="side-nav"><div class="menu menu_theme_islands menu_size_xl menu_mode_radio-check menu__control i-bem" data-bem='{"menu":{}}' role="menu" tabindex="0"><div class="menu__group" role="group" aria-labelledby="uniq14850852837492908"><div class="menu__group-title" role="presentation" id="uniq14850852837492908">Install</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/01_cerebral"}}' role="menuitemradio" id="uniq14850852837492909" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/01_cerebral.html">Cerebral</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/02_debugger"}}' role="menuitemradio" id="uniq14850852837492910" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/02_debugger.html">Debugger</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/03_boilerplate"}}' role="menuitemradio" id="uniq14850852837492911" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/03_boilerplate.html">Boilerplate</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/04_tools"}}' role="menuitemradio" id="uniq14850852837492912" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/04_tools.html">Tools</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/05_function-tree"}}' role="menuitemradio" id="uniq14850852837492913" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/05_function-tree.html">Function Tree</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14850852837492914"><div class="menu__group-title" role="presentation" id="uniq14850852837492914">Tutorial</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/01_introduction"}}' role="menuitemradio" id="uniq14850852837492915" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/01_introduction.html">Introduction</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/02_define-state"}}' role="menuitemradio" id="uniq14850852837492916" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/02_define-state.html">ch01. Define State</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/03_render-state"}}' role="menuitemradio" id="uniq14850852837492917" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/03_render-state.html">ch02. Render state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/04_update-state"}}' role="menuitemradio" id="uniq14850852837492918" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/04_update-state.html">ch03. Update state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/05_using-chains"}}' role="menuitemradio" id="uniq14850852837492919" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/05_using-chains.html">ch04. Chains</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/06_using-inputoutput"}}' role="menuitemradio" id="uniq14850852837492920" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/06_using-inputoutput.html">ch05. Actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/07_using-async-actions"}}' role="menuitemradio" id="uniq14850852837492921" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/07_using-async-actions.html">ch06. Async actions</a></div><div class="menu-item menu-item_type_link menu-item_checked menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/08_using-paths"}}' role="menuitemradio" id="uniq14850852837492922" aria-checked="true"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/08_using-paths.html">ch07. Paths</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/09_compute_state"}}' role="menuitemradio" id="uniq14850852837492923" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/09_compute_state.html">ch08. Compute state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/10_providers"}}' role="menuitemradio" id="uniq14850852837492924" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/10_providers.html">ch09. Providers</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/11_routing"}}' role="menuitemradio" id="uniq14850852837492925" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/11_routing.html">ch10. Routing</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/12_refactoring_modules"}}' role="menuitemradio" id="uniq14850852837492926" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/12_refactoring_modules.html">ch11. Modules</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14850852837492927"><div class="menu__group-title" role="presentation" id="uniq14850852837492927">In depth</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/01_the-architecture"}}' role="menuitemradio" id="uniq14850852837492928" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/01_the-architecture.html">The architecture</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/02_controller"}}' role="menuitemradio" id="uniq14850852837492929" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/02_controller.html">Controller</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/03_state"}}' role="menuitemradio" id="uniq14850852837492930" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/03_state.html">State</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/04_signals"}}' role="menuitemradio" id="uniq14850852837492931" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/04_signals.html">Signals</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/05_chains-and-paths"}}' role="menuitemradio" id="uniq14850852837492932" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/05_chains-and-paths.html">Chains and paths</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/06_actions"}}' role="menuitemradio" id="uniq14850852837492933" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/06_actions.html">Actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/07_providers"}}' role="menuitemradio" id="uniq14850852837492934" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/07_providers.html">Providers</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/08_tags"}}' role="menuitemradio" id="uniq14850852837492935" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/08_tags.html">Tags</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/09_operators"}}' role="menuitemradio" id="uniq14850852837492936" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/09_operators.html">Operators</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/10_factories"}}' role="menuitemradio" id="uniq14850852837492937" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/10_factories.html">Factories</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/11_connect"}}' role="menuitemradio" id="uniq14850852837492938" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/11_connect.html">Connect</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/12_computed"}}' role="menuitemradio" id="uniq14850852837492939" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/12_computed.html">Computed</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/13_routing"}}' role="menuitemradio" id="uniq14850852837492940" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/13_routing.html">Routing</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14850852837492941"><div class="menu__group-title" role="presentation" id="uniq14850852837492941">Best practices</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/01_organizing"}}' role="menuitemradio" id="uniq14850852837492942" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/01_organizing.html">Organizing</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/02_constants"}}' role="menuitemradio" id="uniq14850852837492943" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/02_constants.html">Constants</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/03_testing"}}' role="menuitemradio" id="uniq14850852837492944" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/03_testing.html">Testing</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/04_load-initial-data"}}' role="menuitemradio" id="uniq14850852837492945" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/04_load-initial-data.html">Load initial data</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/05_storing-server-data"}}' role="menuitemradio" id="uniq14850852837492946" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/05_storing-server-data.html">Storing server data</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/06_lists"}}' role="menuitemradio" id="uniq14850852837492947" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/06_lists.html">Lists</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/07_modals"}}' role="menuitemradio" id="uniq14850852837492948" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/07_modals.html">Modals</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/08_feedback-message"}}' role="menuitemradio" id="uniq14850852837492949" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/08_feedback-message.html">Feedback messages</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/09_popups"}}' role="menuitemradio" id="uniq14850852837492950" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/09_popups.html">Popups</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/10_long-running-side-effects"}}' role="menuitemradio" id="uniq14850852837492951" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/10_long-running-side-effects.html">Long running side effects</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/11_server-side"}}' role="menuitemradio" id="uniq14850852837492952" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/11_server-side.html">Server side</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14850852837492953"><div class="menu__group-title" role="presentation" id="uniq14850852837492953">Migration</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"migration/01_start_migration"}}' role="menuitemradio" id="uniq14850852837492954" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../migration/01_start_migration.html">From 1.x to 2.x</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14850852837492955"><div class="menu__group-title" role="presentation" id="uniq14850852837492955">API</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/01_controller"}}' role="menuitemradio" id="uniq14850852837492956" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/01_controller.html">Controller</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/02_state"}}' role="menuitemradio" id="uniq14850852837492957" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/02_state.html">State</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/03_signals"}}' role="menuitemradio" id="uniq14850852837492958" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/03_signals.html">Signals</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/04_tags"}}' role="menuitemradio" id="uniq14850852837492959" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/04_tags.html">Tags</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/05_connect"}}' role="menuitemradio" id="uniq14850852837492960" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/05_connect.html">Connect</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/06_modules"}}' role="menuitemradio" id="uniq14850852837492961" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/06_modules.html">Modules</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/07_operators"}}' role="menuitemradio" id="uniq14850852837492962" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/07_operators.html">Operators</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/08_providers"}}' role="menuitemradio" id="uniq14850852837492963" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/08_providers.html">Providers</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/09_router"}}' role="menuitemradio" id="uniq14850852837492964" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/09_router.html">Router</a></div></div></div></div></div><div class="row__col row__col_sw_24 row__col_lw_18 row__col_lo_1"><div class="page__edit"><a class="link link_theme_islands link__control i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral/tree/master/docs/docs/content/tutorial/08_using-paths.en.md">Edit on GitHub</a></div><h2 class="heading heading_lvl_2" id="paths">Paths</h2>
<p class="paragraph"><strong>Load up chapter 07</strong> - <a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="07">Preview</a></p>
<p class="paragraph">In the previous chapter we introduced async actions. But what about the following scenario: &quot;User gets data async from a server, server responds with either a success or error&quot;. To handle not only the so called <em>Happy Path</em> we should also allow our signals to branch out into a different flows (which is just another chain of actions and operators) depending on the result of the previous action.</p>
<p class="paragraph">So let us build that scenario introducing <em>cerebral-http-provider</em>. <em>cerebral-http-provider</em> is a simple http-provider which enables you to request data from servers. You could have used any other HTTP library if you wanted to. We have already added it as a configuration of the controller. The concept of <strong>Providers</strong> will be covered in more detail in the next chapter.</p>
<p class="paragraph">To handle any kind of diverging execution in a signal we can use the concept of <strong>paths</strong>. A simple signal using paths and a sample async action named <em>getData</em> could look like this:</p>
<pre><code class="code" class="lang-js"><span class="token punctuation">{</span>
  submitClicked<span class="token punctuation">:</span><span class="token punctuation">[</span>
    getData<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      success<span class="token punctuation">:</span><span class="token punctuation">[</span>
        processResults<span class="token punctuation">,</span>
        showSuccessMessage
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      error<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        showErrorMessage
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="paragraph">Where <em>success</em> and <em>error</em> are our <strong>paths</strong>.</p>
<p class="paragraph">Let us implement something similar. We are going to grab information about github repos and display it in the toast:</p>
<pre><code class="code" class="lang-js"><span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">set</span><span class="token punctuation">,</span> wait<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral/operators'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>state<span class="token punctuation">,</span> input<span class="token punctuation">,</span> string<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral/tags'</span>
<span class="token operator">...</span>
<span class="token punctuation">{</span>
  buttonClicked<span class="token punctuation">:</span> <span class="token punctuation">[</span>
     <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`Loading data for repo: ${input`</span></span>repo<span class="token template-string"><span class="token string">`}`</span></span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     getRepo<span class="token punctuation">,</span> <span class="token punctuation">{</span>
       success<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`How cool is that. ${input`</span></span>repo<span class="token template-string"><span class="token string">`} has ${input`</span></span>data<span class="token punctuation">.</span>subscribers_count<span class="token template-string"><span class="token string">`} subscribers and ${input`</span></span>data<span class="token punctuation">.</span>stargazers_count<span class="token template-string"><span class="token string">`} stars!`</span></span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span>
       <span class="token punctuation">]</span><span class="token punctuation">,</span>
       error<span class="token punctuation">:</span> <span class="token punctuation">[</span>
         <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`Ooops something went wrong: ${input`</span></span>data<span class="token punctuation">.</span>message<span class="token template-string"><span class="token string">`}`</span></span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="paragraph">As you can see you can configure as many and whatever paths you like. Just add an object after an action and the action will know about possible paths to execute.</p>
<p class="paragraph">The <strong>getRepo</strong> action can look like this:</p>
<pre><code class="code" class="lang-js"><span class="token operator">...</span>
<span class="token keyword">function</span> <span class="token function">getRepo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>input<span class="token punctuation">,</span> http<span class="token punctuation">,</span> path<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`/repos/cerebral/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>input<span class="token punctuation">.</span>repo<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>response <span class="token operator">=</span><span class="token operator">></span> path<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">:</span> response<span class="token punctuation">.</span>result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>error <span class="token operator">=</span><span class="token operator">></span> path<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">{</span>data<span class="token punctuation">:</span> error<span class="token punctuation">.</span>result<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token function">Controller</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>
</code></pre>
<p class="paragraph">The path <strong>success</strong> and <strong>error</strong> are now available inside the action because we defined those paths after the action in the chain. Last, but not least, we need to pass in a <strong>repo</strong> property on our button click:</p>
<p class="paragraph"><em>src/components/App/index.js</em></p>
<pre><code class="code" class="lang-js"><span class="token operator">...</span>
<span class="token operator">&lt;</span>button
  className<span class="token operator">=</span><span class="token string">"c-button c-button--info c-button--block"</span>
  onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> props<span class="token punctuation">.</span><span class="token function">buttonClicked</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    repo<span class="token punctuation">:</span> <span class="token string">'cerebral'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">></span>
<span class="token operator">...</span>
</code></pre>
<p class="paragraph">But there is an issue here. Did you notice that the message <em>Loading data for repo...</em> is blocking the execution for 2 seconds? It would be nice to indicate to Cerebral that actions can execute in parallel. Relax and take a sip from your coffee or beer, Cerebral has you covered!</p>
<p class="paragraph">Replace your signal with the following snippet:</p>
<pre><code class="code" class="lang-js"><span class="token punctuation">{</span>
  buttonClicked<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`Loading data for repo: ${input`</span></span>repo<span class="token template-string"><span class="token string">`}`</span></span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      getRepo<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        success<span class="token punctuation">:</span> <span class="token punctuation">[</span>
           <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`How cool is that. ${input`</span></span>repo<span class="token template-string"><span class="token string">`} has ${input`</span></span>data<span class="token punctuation">.</span>subscribers_count<span class="token template-string"><span class="token string">`} subscribers and ${input`</span></span>data<span class="token punctuation">.</span>stargazers_count<span class="token template-string"><span class="token string">`} stars!`</span></span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        error<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`Ooops something went wrong: ${input`</span></span>data<span class="token punctuation">.</span>message<span class="token template-string"><span class="token string">`}`</span></span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
       <span class="token punctuation">}</span>  
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="paragraph">What is happening here? Did you spot the additional <strong>[</strong> and <strong>]</strong>? Well whenever Cerebral encounters an Array in a Array  <strong>[action1,[action2,action3],action4]</strong> it will start the actions within that array in parallel, so after action1 finishes action2 and action3 are executed right after each other, even though they run asynchronously. After action2 and action3 finish, action4 will be executed.</p>
<p class="paragraph">We got even more flow control now, telling Cerebral to execute actions/operators in parallel by using JS arrays, and objects to diverge execution. By reading the signals you get a good understanding what the application will do. And don&#39;t forget, you do not even have to look at code to understand this, the debugger reflects parallel execution, state changes and even <strong>paths</strong> chosen.</p>
<p class="paragraph">But... there is an issue here. Did you notice that these <strong>showToast</strong> action factories does not cancel each other out? So the initial 2 second wait might close the toast where it was supposed to hold for 5 seconds after a success? There is a way to fix this.</p>
<p class="paragraph">Instead of using <strong>wait</strong>, we can use <strong>debounce</strong>. It is difficult to wrap your head around debounce. Simply said it ensures that whenever we run <strong>showToast</strong>, any pending toast timer will be discarded. But that is not enough, cause we have multiple <em>showToast</em> in our signal. So we need this behaviour to be shared across them. Whenever any <em>showToast</em> is called, we want the existing pending toast timer to be discarded. This just ensures whenever we display a toast it will stay there for the time set, unless a new toast is triggered.</p>
<pre><code class="code" class="lang-js"><span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token keyword">set</span><span class="token punctuation">,</span> merge<span class="token punctuation">,</span> debounce<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral/operators'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>state<span class="token punctuation">,</span> input<span class="token punctuation">,</span> string<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral/tags'</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> toastDebounce <span class="token operator">=</span> debounce<span class="token punctuation">.</span><span class="token function">shared</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> showToast <span class="token punctuation">(</span>message<span class="token punctuation">,</span> ms<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true">// We use merge as it supports evaluating tags</span>
    <span class="token function">merge</span><span class="token punctuation">(</span>state<span class="token template-string"><span class="token string">`app.toast.message`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>type<span class="token punctuation">,</span> message<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">toastDebounce</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token keyword">continue</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">set</span><span class="token punctuation">(</span>state<span class="token template-string"><span class="token string">`app.toast`</span></span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      discard<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token punctuation">{</span>
  buttonClicked<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`Loading data for repo: ${input`</span></span>repo<span class="token template-string"><span class="token string">`}`</span></span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      getRepo<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        success<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`How cool is that. ${input`</span></span>repo<span class="token template-string"><span class="token string">`} has ${input`</span></span>data<span class="token punctuation">.</span>subscribers_count<span class="token template-string"><span class="token string">`} subscribers and ${input`</span></span>data<span class="token punctuation">.</span>stargazers_count<span class="token template-string"><span class="token string">`} stars!`</span></span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token string">'success'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        error<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token operator">...</span><span class="token function">showToast</span><span class="token punctuation">(</span>string<span class="token template-string"><span class="token string">`Ooops something went wrong: ${input`</span></span>data<span class="token punctuation">.</span>message<span class="token template-string"><span class="token string">`}`</span></span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="paragraph">Congratulations! Now you know how to control your flow using <strong>paths</strong>. And if you need <strong>parallel actions/operators</strong>, well just add another array <strong>[]</strong> to the chain. You have even gotten insight into very complex control flow using <strong>debounce</strong>.</p>
<h3 class="heading heading_lvl_3" id="challenge">Challenge</h3>
<p class="paragraph">We would like you to run two getRepo(...) requests. One to <em>cerebral/cerebral</em> and one to <em>cerebral/addressbar</em>. So it is a good idea to make <em>getRepo</em> a factory instead. On their successes they should insert their data into the state tree. Also create an action that sums the stars and adds a third state in the state tree with the sum of both repos star count. This part requires you to read up on how to set and get state in actions. This sum action should run and be displayed in a toast after both <em>getRepo</em> are done running. Remove any other success and error toasts.</p>
<p class="paragraph"><strong>Want to dive deeper?</strong> - <a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="../in-depth/05_chains-and-paths.html">Go in depth</a>, or move on with the tutorial</p>
</div></div></div><footer class="footer page__footer"><div class="row"><div class="row__col row__col_sw_24 row__col_lw_6"><h4 class="footer__header">ORGANIZATION</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral/graphs/contributors">Contributors</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="http://www.webpackbin.com">www.webpackbin.com</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="http://www.christianalfoni.com">www.christianalfoni.com</a></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_3"><h4 class="footer__header">ARTICLES AND USEFUL LINKS</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="http://medium.com/p/5793c08db2cc">The story of Cerebral</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://gist.github.com/christianalfoni/b08a99faa09df054afe87528a2134730">An unlikely success story</a></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_6"><h4 class="footer__header">HELP</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral">Cerebral github repo</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://discord.gg/0kIweV4bd2bwwsvH">Discord chat</a></div></div></footer><script src="../js/scripts.min.js"></script></body></html>