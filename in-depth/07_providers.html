<!DOCTYPE html><html class="ua_js_no" lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Cerebral</title><script>(function(e,c){e[c]=e[c].replace(/(ua_js_)no/g,"$1yes");})(document.documentElement,"className");</script><link rel="stylesheet" href="../css/styles.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:700,500,400"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono"/><link rel="shortcut icon" href="../favicon.ico"/><meta name="viewport" content="width=device-width,maximum-scale=1,initial-scale=1,user-scalable=no"/><meta name="format-detection" content="telephone=no"/><link name="apple-mobile-web-app-capable" content="yes"/></head><body class="page page_layout_in-depth"><div class="page__header"><div class="head-nav"><a class="link link__control head-nav__home i-bem" data-bem='{"link":{}}' role="link" href="../"></a></div></div><div class="page__content"><div class="wip">This documentation is about upcoming cerebral v2 which is currently is work in progress.<br/>Documentation might not always describe actual state of API.<br/>API itself could have some notable changes, though it shouldn't be critical.<br/>Feel free to contribute to docs by clicking Edit on Github link.</div><div class="row"><div class="row__col row__col_sw_24 row__col_lw_5 row__col_sol row__col_mol"><div class="side-nav"><div class="menu menu_theme_islands menu_size_xl menu_mode_radio-check menu__control i-bem" data-bem='{"menu":{}}' role="menu" tabindex="0"><div class="menu__group" role="group" aria-labelledby="uniq14840631476651486"><div class="menu__group-title" role="presentation" id="uniq14840631476651486">Install</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/01_cerebral"}}' role="menuitemradio" id="uniq14840631476651487" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/01_cerebral.html">Cerebral</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/02_debugger"}}' role="menuitemradio" id="uniq14840631476651488" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/02_debugger.html">Debugger</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/03_boilerplate"}}' role="menuitemradio" id="uniq14840631476651489" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/03_boilerplate.html">Boilerplate</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/04_tools"}}' role="menuitemradio" id="uniq14840631476651490" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/04_tools.html">Tools</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"install/05_function-tree"}}' role="menuitemradio" id="uniq14840631476651491" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../install/05_function-tree.html">Function Tree</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14840631476651492"><div class="menu__group-title" role="presentation" id="uniq14840631476651492">Tutorial</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/01_introduction"}}' role="menuitemradio" id="uniq14840631476651493" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/01_introduction.html">Introduction</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/02_define-state"}}' role="menuitemradio" id="uniq14840631476651494" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/02_define-state.html">ch01. Define State</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/03_render-state"}}' role="menuitemradio" id="uniq14840631476651495" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/03_render-state.html">ch02. Render state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/04_update-state"}}' role="menuitemradio" id="uniq14840631476651496" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/04_update-state.html">ch03. Update state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/05_using-chains"}}' role="menuitemradio" id="uniq14840631476651497" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/05_using-chains.html">ch04. Chains</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/06_using-inputoutput"}}' role="menuitemradio" id="uniq14840631476651498" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/06_using-inputoutput.html">ch05. Actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/07_using-async-actions"}}' role="menuitemradio" id="uniq14840631476651499" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/07_using-async-actions.html">ch06. Async actions</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/08_using-paths"}}' role="menuitemradio" id="uniq14840631476651500" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/08_using-paths.html">ch07. Paths</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/09_compute_state"}}' role="menuitemradio" id="uniq14840631476651501" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/09_compute_state.html">ch08. Compute state</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/10_providers"}}' role="menuitemradio" id="uniq14840631476651502" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/10_providers.html">ch09. Providers</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/11_routing"}}' role="menuitemradio" id="uniq14840631476651503" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/11_routing.html">ch10. Routing</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"tutorial/12_refactoring_modules"}}' role="menuitemradio" id="uniq14840631476651504" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../tutorial/12_refactoring_modules.html">ch11. Modules</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14840631476651505"><div class="menu__group-title" role="presentation" id="uniq14840631476651505">In depth</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/01_the-architecture"}}' role="menuitemradio" id="uniq14840631476651506" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/01_the-architecture.html">The architecture</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/02_controller"}}' role="menuitemradio" id="uniq14840631476651507" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/02_controller.html">Controller</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/03_state"}}' role="menuitemradio" id="uniq14840631476651508" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/03_state.html">State</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/04_signals"}}' role="menuitemradio" id="uniq14840631476651509" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/04_signals.html">Signals</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/05_chains-and-paths"}}' role="menuitemradio" id="uniq14840631476651510" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/05_chains-and-paths.html">Chains and paths</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/06_actions"}}' role="menuitemradio" id="uniq14840631476651511" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/06_actions.html">Actions</a></div><div class="menu-item menu-item_type_link menu-item_checked menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/07_providers"}}' role="menuitemradio" id="uniq14840631476651512" aria-checked="true"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/07_providers.html">Providers</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/08_operators"}}' role="menuitemradio" id="uniq14840631476651513" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/08_operators.html">Operators</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/09_factories"}}' role="menuitemradio" id="uniq14840631476651514" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/09_factories.html">Factories</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/10_connect"}}' role="menuitemradio" id="uniq14840631476651515" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/10_connect.html">Connect</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/11_computed"}}' role="menuitemradio" id="uniq14840631476651516" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/11_computed.html">Computed</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"in-depth/12_routing"}}' role="menuitemradio" id="uniq14840631476651517" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../in-depth/12_routing.html">Routing</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14840631476651518"><div class="menu__group-title" role="presentation" id="uniq14840631476651518">Best practices</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/01_organizing"}}' role="menuitemradio" id="uniq14840631476651519" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/01_organizing.html">Organizing</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/02_constants"}}' role="menuitemradio" id="uniq14840631476651520" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/02_constants.html">Constants</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/03_testing"}}' role="menuitemradio" id="uniq14840631476651521" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/03_testing.html">Testing</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/04_load-initial-data"}}' role="menuitemradio" id="uniq14840631476651522" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/04_load-initial-data.html">Load initial data</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/05_storing-server-data"}}' role="menuitemradio" id="uniq14840631476651523" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/05_storing-server-data.html">Storing server data</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/06_lists"}}' role="menuitemradio" id="uniq14840631476651524" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/06_lists.html">Lists</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/07_modals"}}' role="menuitemradio" id="uniq14840631476651525" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/07_modals.html">Modals</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/08_feedback-message"}}' role="menuitemradio" id="uniq14840631476651526" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/08_feedback-message.html">Feedback messages</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/09_popups"}}' role="menuitemradio" id="uniq14840631476651527" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/09_popups.html">Popups</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/10_long-running-side-effects"}}' role="menuitemradio" id="uniq14840631476651528" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/10_long-running-side-effects.html">Long running side effects</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"best-practices/11_server-side"}}' role="menuitemradio" id="uniq14840631476651529" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../best-practices/11_server-side.html">Server side</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14840631476651530"><div class="menu__group-title" role="presentation" id="uniq14840631476651530">Migration</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"migration/01_start_migration"}}' role="menuitemradio" id="uniq14840631476651531" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../migration/01_start_migration.html">From 1.x to 2.x</a></div></div><div class="menu__group" role="group" aria-labelledby="uniq14840631476651532"><div class="menu__group-title" role="presentation" id="uniq14840631476651532">API</div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/01_controller"}}' role="menuitemradio" id="uniq14840631476651533" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/01_controller.html">Controller</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/02_state"}}' role="menuitemradio" id="uniq14840631476651534" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/02_state.html">State</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/03_signals"}}' role="menuitemradio" id="uniq14840631476651535" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/03_signals.html">Signals</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/04_connect"}}' role="menuitemradio" id="uniq14840631476651536" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/04_connect.html">Connect</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/05_modules"}}' role="menuitemradio" id="uniq14840631476651537" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/05_modules.html">Modules</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/06_operators"}}' role="menuitemradio" id="uniq14840631476651538" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/06_operators.html">Operators</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/07_providers"}}' role="menuitemradio" id="uniq14840631476651539" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/07_providers.html">Providers</a></div><div class="menu-item menu-item_type_link menu-item_theme_islands i-bem" data-bem='{"menu-item":{"val":"api/08_router"}}' role="menuitemradio" id="uniq14840631476651540" aria-checked="false"><a class="link link__control i-bem" data-bem='{"link":{}}' role="link" href="../api/08_router.html">Router</a></div></div></div></div></div><div class="row__col row__col_sw_24 row__col_lw_18 row__col_lo_1"><div class="page__edit"><a class="link link_theme_islands link__control i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral/tree/master/packages/docs/content/in-depth/07_providers.en.md">Edit on GitHub</a></div><h2 class="heading heading_lvl_2" id="providers">Providers</h2>
<p class="paragraph">Providers are added to the context of every action executed by a signal. Providers can be everything from a tool you are already using, to something Cerebral specific. The point of providers is to separate side effects from execution. That means you can create all the logic you want with chains and actions without creating any dependencies to other tools. This makes them highly testable and generally gives you more flexibility.</p>
<p class="paragraph">Adding a provider is done by:</p>
<pre><code class="code" class="lang-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral'</span>

<span class="token keyword">function</span> MyProvider <span class="token punctuation">(</span>context<span class="token punctuation">,</span> functionDetails<span class="token punctuation">,</span> payload<span class="token punctuation">,</span> prevPayload<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// The current context object, which can be mutated</span>
  context
  <span class="token comment" spellcheck="true">// The details of the action running, like name, index (id) etc.</span>
  functionDetails
  <span class="token comment" spellcheck="true">// The current payload passed to the action</span>
  payload
  <span class="token comment" spellcheck="true">// The previous payload</span>
  prevPayload

  <span class="token comment" spellcheck="true">// You have to return the context after it has bee mutated</span>
  <span class="token keyword">return</span> context
<span class="token punctuation">}</span>

<span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token function">Controller</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    MyProvider
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 class="heading heading_lvl_3" id="context-provider">Context Provider</h3>
<p class="paragraph">There is a built in provider with Cerebral you can use to expose tools. The provider will wrap the tool so that you can see its usage in the debugger:</p>
<pre><code class="code" class="lang-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>Controller<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ContextProvider<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'cerebral/providers'</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> uuid <span class="token keyword">from</span> <span class="token string">'uuid'</span>

<span class="token keyword">const</span> controller <span class="token operator">=</span> <span class="token function">Controller</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token function">ContextProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>axios<span class="token punctuation">,</span> uuid<span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 class="heading heading_lvl_3" id="creating-a-provider">Creating a provider</h3>
<p class="paragraph">You can use providers for pretty much anything, though tyically it is to handle some kind of side effect. Examples of providers is <a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral/tree/master/packages/cerebral-provider-firebase">cerebral-provider-firebase</a> and <a class="link link__control i-bem" data-bem='{"link":{}}' role="link" tabindex="0" href="https://github.com/cerebral/cerebral/tree/master/packages/cerebral-provider-http">cerebral-provider-http</a>.</p>
<pre><code class="code" class="lang-js"><span class="token keyword">function</span> MyProvider <span class="token punctuation">(</span>options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> cachedProvider <span class="token operator">=</span> <span class="token keyword">null</span>

  <span class="token keyword">function</span> createProvider <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    context<span class="token punctuation">.</span>myProvider <span class="token operator">=</span> cachedProvider <span class="token operator">=</span> cachedProvider <span class="token operator">||</span> <span class="token function">createProvider</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token keyword">debugger</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      context<span class="token punctuation">.</span><span class="token keyword">debugger</span><span class="token punctuation">.</span><span class="token function">wrapProvider</span><span class="token punctuation">(</span><span class="token string">'myProvider'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> context
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p class="paragraph">This is a very typical setup for a provider. It creates and caches it. It also wraps and methods exposed if the debugger is available, tracking its execution.</p>
</div></div></div><footer class="footer page__footer"><div class="row"><div class="row__col row__col_sw_24 row__col_lw_6"><h4 class="footer__header">ORGANIZATION</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral/graphs/contributors">Contributors</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="http://www.webpackbin.com">www.webpackbin.com</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="http://www.christianalfoni.com">www.christianalfoni.com</a></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_3"><h4 class="footer__header">ARTICLES AND USEFUL LINKS</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="http://medium.com/p/5793c08db2cc">The story of Cerebral</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://gist.github.com/christianalfoni/b08a99faa09df054afe87528a2134730">An unlikely success story</a></div><div class="row__col row__col_sw_24 row__col_lw_6 row__col_lo_6"><h4 class="footer__header">HELP</h4><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://github.com/cerebral/cerebral">Cerebral github repo</a><a class="link link__control footer__link i-bem" data-bem='{"link":{}}' role="link" href="https://discord.gg/0kIweV4bd2bwwsvH">Discord chat</a></div></div></footer><script src="../js/scripts.min.js"></script></body></html>